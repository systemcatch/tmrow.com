---
title: A pragmatic guide to Climate Change
description: This guide is a pragmatic guide to what Climate Change is, what the drivers behind it are, and what we, as individuals, can do about it.
image: https://user-images.githubusercontent.com/1655848/29027789-6f2358b0-7b82-11e7-882f-af0ca55703a1.png
---
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://ogp.me/ns/fb#" lang="en">
  <head>
    {% include meta.html
      title=page.title
      description=page.description
      image=page.image
      url=page.url
    %}
  </head>
  <body>
    <!-- start Twitter -->
    <script>
        window.twttr = (function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0],
        t = window.twttr || {};
        if (d.getElementById(id)) return t;
        js = d.createElement(s);
        js.id = id;
        js.src = "https://platform.twitter.com/widgets.js";
        fjs.parentNode.insertBefore(js, fjs);

        t._e = [];
        t.ready = function(f) {
            t._e.push(f);
        };

        return t;
        }(document, "script", "twitter-wjs"));
    </script>
    <!-- end Twitter -->
    <!-- Load Facebook SDK for JavaScript -->
    <div id="fb-root"></div>
    <script>
      window.fbAsyncInit = function() {
          FB.init({
            appId      : '1821546271499223',
            xfbml      : true,
            version    : 'v2.8'
          });
          if(window.location.href.indexOf('localhost') == -1)
            FB.AppEvents.logPageView('pageview');
      };
      (function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.8";
        fjs.parentNode.insertBefore(js, fjs);
      }(document, 'script', 'facebook-jssdk'));
    </script>

    <script src="vendor/d3.min.js"></script>
    <script src="vendor/echarts.min.js"></script>
    <script src="data/world.js"></script>
    <script>
      function initialOption() {
        return {
          xAxis: {},
          yAxis: {},
          grid: { top: 20, bottom: 45 },
          tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'line'
            }
          }
        }
      }
      function initialDataZoom() {
        return [
          {
            type: 'slider',
            showDataShadow: false,
            height: 10,
            borderColor: 'transparent',
            backgroundColor: '#e2e2e2',
            handleIcon: 'M10.7,11.9H9.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z', // jshint ignore:line
            handleSize: 15,
            handleStyle: {
              shadowBlur: 6,
              shadowOffsetX: 1,
              shadowOffsetY: 2,
              shadowColor: '#aaa'
            },
          }
        ]
      }
    </script>

    <style>
      /* Override */
      .section-content {
        max-width: 800px !important;
      }
      h1 {
        margin-bottom: unset !important;
      }
      h1, h2 {
        margin-top: -3rem; /* padding-top + margin-top will be effective margin */
        padding-top: 5rem;
      }
      hr {
        margin-bottom: 0px;
      }

      /* Prevent subscript from affecting line-height */
      sub {
        vertical-align: baseline;
        position: relative;
        top: 0.4em;
      }

      /* Graphs */
      .graph {
        width: 100%;
        box-sizing: border-box;
        /* center horizontally */
        margin-right: auto;
        margin-left: auto;
        padding-top: 1.5em;
        padding-bottom: 1.5em;
      }
      @media (min-width: 52em) {
        .graph {
          width: 70%;
        }
      }
      .chart {
        width: 100%;
        height: 350px;
      }
      .source {
        font-size: small;
      }
      .graph .title {
        font-size: 14px;
        line-height: 14px;
        font-weight: bold;
      }
      .graph .description {
        font-size: 12px;
        color: #8a8a8a;
        line-height: unset;
      }

      /* Misc */
      .incomplete {
        background-color: orange;
        padding: 1em;
      }

      /* TOC */
      #toc li {
        margin-left: 4rem;
      }
      #toc > h4 {
        margin-bottom: 0.5rem;
        margin-top: 0.5rem;
      }
    </style>

    {% include header.html %}

    <section style="margin-top: 3em;">
      <div class="section-content">
        <h1>A pragmatic guide to Climate Change</h1>
        <p style="color: darkgray; font-size: small;">
          If you see anything inconsistent, or would like to propose a change, feel free to edit the page on <a href="https://github.com/tmrowco/tmrow.com/blob/master/climatechange.html" target="_blank"><i class="fa fa-github"></i>&nbsp;github</a> or submit an <a href="https://github.com/tmrowco/tmrow.com/issues" target="_blank"><i class="fa fa-exclamation-circle" aria-hidden="true"></i>&nbsp;issue</a>.
        </p>
        <p>
          This guide is a pragmatic guide to what Climate Change is, what the drivers behind it are, and what we, as individuals, can do about it.
        </p>
        <div id="toc">
          <h4>1. The Earth</h4>
          <ul>
            <li><a href="#the-state-of-climate-change">The state of Climate Change</a></li>
            <li><a href="#consequences">Consequences</a></li>
            <li><a href="#what-causes-it?">What causes it</a></li>
          </ul>
          <h4>2. Humans</h4>
          <ul>
            <li><a href="#where-do-greenhouse-gases-come-from?">Where do greenhouse gases come from?</a></li>
            <li><a href="#fossil-fuels-are-used-everywhere--and-for-good-reasons">Fossil fuels are used everywhere, and for good reasons</a></li>
          </ul>
          <h4>3. What can we do?</h4>
          <ul>
            <li><a href="#objective--2-tons-co2eq-per-human-per-year-by-2050">Objective: 2 tons CO2eq per human per year by 2050</a></li>
            <li><a href="#transportation--reduce-long-distance-travels">Transportation: Reduce long-distance travels</a></li>
            <li><a href="#electricity--remove-coal--gas-and-oil-power-plants">Electricity: remove coal, gas and oil power plants</a></li>
            <li><a href="#food--avoid-red-meat">Food: avoid red meat</a></li>
            <li><a href="#information-must-be-accessible-and-widely-spread">Information must be accessible and widely spread</a></li>
          </li>
        </div>

        <hr/>

        <h1>1. The Earth</h1>
        <h2>The state of Climate Change</h2>
        <div>
          <p>
            "Warming of the climate system is unequivocal, and since the 1950s, many of the observed changes are unprecedented over decades to millennia", writes the Intergovernmental Panel on Climate Change (IPCC) in its <a href="http://www.ipcc.ch/pdf/assessment-report/ar5/syr/AR5_SYR_FINAL_SPM.pdf" target="_blank">fifth assessment</a>.
          </p>

          <div class="graph">
            <div class="title">Temperature anomalies</div>
            <div class="description">&deg;C compared to 1951-1980 average</div>
            <div class="chart" id="temperature_time_series_recent"></div>
            <div class="source">
              Source: <a href="https://climate.nasa.gov/vital-signs/global-temperature/" target="_blank">NASA's Goddard Institute for Space Studies (GISS)</a> (<a href="http://climate.nasa.gov/system/internal_resources/details/original/647_Global_Temperature_Data_File.txt" target="_blank">data</a>)
            </div>
          </div>

          <script>
            // Will be reused later
            function parseGiss(giss_obj) {
              return giss_obj
                  .split('\n')
                  .map(function(row, i) { return row.split('     ') })
                  .filter(function(row, i) { return +row[0]; })
            }

            (function() {
              var url = 'data/647_Global_Temperature_Data_File.txt';
              d3.text(url, function(err, giss_obj) {
                if (err) throw err;

                var giss_data = parseGiss(giss_obj);

                var option = initialOption();
                var xData = giss_data.map(function(d) { return +d[0] });
                var yData = giss_data.map(function(d) { return +d[1] });
                var xyData = giss_data.map(function(_, i) { return [xData[i], yData[i]] })

                option.xAxis.type = 'value';
                option.xAxis.min = d3.min(xData);
                // option.xAxis.min = 1950;
                option.xAxis.axisLabel = {
                  formatter: function(e) { return e.toString() }
                }

                option.xAxis.max = d3.max(xData);
                option.yAxis.min = -0.7;
                option.yAxis.max = 1.2;

                option.tooltip.formatter = function(e) {
                  var value = e[0].data[1];
                  var sign = value >= 0 ? '+' : '';
                  return e[0].marker + ' ' + sign + value + ' °C in ' + e[0].data[0];
                }

                option.series = [
                  {
                    name: 'nasa_giss_1y',
                    type: 'line',
                    showSymbol: false,
                    data: xyData,
                    areaStyle: {
                      normal: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: -1 * option.yAxis.min / option.yAxis.max - 0.2,
                            color: 'rgb(255, 64, 30)'
                        }, {
                            offset: 1,
                            color: 'rgb(180, 200, 255)'
                        }])
                      }
                    },
                    markLine: {
                      data: [{ type: 'max', x: '70%' }],
                      label: {
                        normal: {
                          formatter: '2016',
                          position: 'start'
                        },
                      },
                    }
                  },
                  {
                    name: 'last',
                    type: 'effectScatter',
                    data: [xyData[xyData.length - 1]],
                    symbolSize: 10,
                  }
                ];

                var chart = echarts.init(document.getElementById('temperature_time_series_recent'))
                chart.setOption(option);
                window.addEventListener('resize', chart.resize);
              })
            })()
          </script>

          <p>
            Sixteen of the 17 warmest years have all occurred since 2001 (with the exception of 1998).
            Furthermore, NOAA reported in August 2016 that each of the previous 16 months <a href="https://www.ncdc.noaa.gov/sotc/global/201607#temp" target="_blank">were the warmest they've ever measured</a>.
            The measured warming has been found to be consistent across <a href="https://data.giss.nasa.gov/gistemp/graphs/" target="_blank">seasons</a> and <a href="https://twitter.com/anttilip/status/891730388497965056" target="_blank">regions</a>.
          </p>

          <p>
            We have now achieved a temperature increase of 1&deg;C since the end of the 70s. <b>A change of 1&deg;C in 50 years is unprecedented</b>, as it can be seen from the following reconstruction of temperatures in the last 11&nbsp;000 years:
          </p>

          <div class="graph">
            <div class="title">Temperature anomalies in the last 11 000 years</div>
            <div class="description">&deg;C compared to 1951-1980 average</div>
            <div class="chart" id="temperature_time_series_OLD"></div>
            <div class="source">
              Source: <a href="http://science.sciencemag.org/content/339/6124/1198" target="_blank">A Reconstruction of Regional and Global Temperature for the Past 11,300 Years</a> (<a href="http://science.sciencemag.org/content/suppl/2013/03/07/339.6124.1198.DC1" target="_blank">data</a>) before 1880, <a href="https://climate.nasa.gov/vital-signs/global-temperature/" target="_blank">NASA's Goddard Institute for Space Studies (GISS)</a> (<a href="http://climate.nasa.gov/system/internal_resources/details/original/647_Global_Temperature_Data_File.txt" target="_blank">data</a>) after 1880
            </div>
          </div>

          <script>
            (function() {
              var marcott_url = 'data/marcott2013.csv';
              var giss_url = 'data/647_Global_Temperature_Data_File.txt';

              d3.queue()
                .defer(d3.text, marcott_url)
                .defer(d3.text, giss_url)
                .await(function(err, marcott_obj, giss_obj) {

                if (err) throw err;

                var giss_data = parseGiss(giss_obj)
                  .map(function(d) {
                    return [+d[0], +d[1]]
                  });

                var marcott_data = d3.dsvFormat(';').parse(marcott_obj)
                  .map(function(r) {
                    return [1950 - +r['Age (yrs BP)'], parseFloat(r['Global (°C)'].replace(',', '.'))]
                  }).filter(function(d) {
                    return isFinite(d[1]) && d[0] < giss_data[0][0];
                  }).reverse()

                // Make sure to convert the baseline to the giss one
                var marcott_baseline = [1961, 1990];
                var delta = d3.mean(giss_data.filter(function(d) {
                  return d[0] >= marcott_baseline[0] &&
                    d[1] <= marcott_baseline[1];
                }), function(d) {
                  return d[1];
                })

                data = marcott_data.map(function(d) {
                  return [d[0], d[1] - delta]
                });
                giss_data.forEach(function(d) {
                  data.push(d);
                })

                var option = initialOption();

                option.xAxis.type = 'value';
                option.xAxis.axisLabel = {
                  formatter: function(e) { return e.toString() }
                }
                option.xAxis.min = -9000;
                option.xAxis.max = data[data.length - 1][0]

                option.yAxis.min = -0.7;
                option.yAxis.max = 1.2;

                option.dataZoom = initialDataZoom();
                option.dataZoom[0].startValue = -9000;

                option.grid.bottom = 60;

                option.tooltip.formatter = function(e) {
                  var yValue = Math.round(e[0].data[1] * 100) / 100;
                  var sign = yValue >= 0 ? '+' : '';
                  var xValue = e[0].data[0];
                  var year = xValue < 0 ? xValue + ' BC' : xValue + ' AD';
                  return e[0].marker + ' ' + sign + yValue + ' °C in ' + year;
                }

                option.series = [
                  {
                    name: 'marcott',
                    type: 'line',
                    showSymbol: false,
                    data: data,
                    areaStyle: {
                      normal: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: -1 * option.yAxis.min / option.yAxis.max - 0.2,
                            color: 'rgb(255, 64, 30)'
                        }, {
                            offset: 1,
                            color: 'rgb(180, 200, 255)'
                        }])
                      }
                    },
                    markLine: {
                      data: [{ type: 'max', x: '70%' }],
                      label: {
                        normal: {
                          formatter: '2016',
                          position: 'start'
                        },
                      },
                    }
                  },
                  {
                    name: 'last',
                    type: 'effectScatter',
                    data: [data[data.length - 1]],
                    symbolSize: 10,
                  }
                ];

                var chart = echarts.init(document.getElementById('temperature_time_series_OLD'))
                chart.setOption(option);
                window.addEventListener('resize', chart.resize);

              });
            })();
          </script>

          <p>
            What is worrying is not so much the change itself, but rather <b>the speed at which this change is taking place</b>.
            Historically, a change of 1&deg;C seems to happen in thousands of years - not decades.
            The Earth is a complex ecosystem, and disturbing it by as little as a couple of degrees in the blink of decades (or even centuries) is a heavy disturbance.
          </p>

        </div>


        <h2>Consequences</h2>

        <p>
          A change of a couple of degrees of the average yearly temperature is far from a minor event. <a href="https://jancovici.com/en/climate-change/predicting-the-future/how-do-the-present-temperatures-compare-to-the-past-ones/" target="_blank">When Earth's temperature was 5&deg;C lower</a>, the sea level was 120m lower and all of Northern Europe and Canada were covered by a gigantic ice cap (one could hike from Vermont to Greenland).
          Furthermore, average temperatures do not tell the whole story.
          As average temperatures increase, the likelihood of extreme temperature events <a href="https://www.nytimes.com/interactive/2017/07/28/climate/more-frequent-extreme-summer-heat.html">might increase as well</a>.
        </p>

        <p>
          A change of a couple of degrees over the surface of the Earth first causes the oceans to absorb the extra heat.
          In the process, they expand (raising the sea level) and cause increased evaporation, which leads to perturbed air and water currents.
          This yields an increased likelihood of extreme weather events, such as drought, hurricanes or floods.
          This is already observed as e.g. coral reefs are <a href="https://www.nytimes.com/2017/03/15/science/great-barrier-reef-coral-climate-change-dieoff.html" target="_blank">starting to die</a>.
        </p>

        <p>
          Longer term effects are harder to quantify as a temperature change this sudden has never been witnessed in the past.
          To get an rough idea, <a href="http://bigthink.com/strange-maps/what-the-world-will-look-like-4degc-warmer" target="_blank">this map</a> shows what the world will look like 4&deg; warmer while <a href="http://www.bbc.com/future/story/20170808-climate-change-is-disrupting-the-birds-and-the-bees" target="_blank">this article</a> shows how sensitive birds and bees are to climate change.
          Furthermore, higher temperatures and more extreme weather causes crops to fail which will force <a href="https://www.nytimes.com/2017/04/19/magazine/how-a-warming-planet-drives-human-migration.html" target="_blank">refugees to flee inhabitable regions</a>.
          That's ultimately <a href="https://www.technologyreview.com/s/603158/hotter-days-will-drive-global-inequality/" target="_blank">bad for the economy</a>.
        </p>

        <p>Climate change is a serious issue.</p>

        <h2>What causes it?</h2>
        <p>
          Some gases are transparent to the sun's <b>incoming rays</b> heating the Earth, but are opaque (acting as mirrors) with respect to <b>outgoing rays</b> emitted back from the Earth.
          Those gases act as a blanket, trapping heat that is unable to escape.
          They are called greenhouse gases due to their warming behaviour.
          This <a href="https://en.wikipedia.org/wiki/Greenhouse_effect" target="_blank">greenhouse effect</a> stabilises our climate, keeping nights relatively warm despite behind deprived of sunlight.
        </p>
        <p>
          One of those greenhouse gases is carbon dioxide (CO<sub>2</sub>).
          By drilling <a href="https://earthobservatory.nasa.gov/Features/Paleoclimatology_IceCores/" target="_blank">ice cores</a> (columns of ice containing small bubbles of old trapped air), scientists have been able to infer historical CO<sub>2</sub> concentration up to 800&nbsp;000 years BC.
          This concentration has been relatively stable up to the industrial revolution, where it skyrocketed.
          Again, what is worrying is the speed at which the change of concentration is happening. Both the concentration level and the speed of change are unprecedented in the history of measurements (use the handles at the bottom of the graph to zoom in and out):
        </p>

        <div class="graph">
          <div class="title">Atmospheric CO2 concentration in the last 40&nbsp;000 to 800&nbsp;000 years</div>
          <div class="description">in ppm (particles per million)</div>
          <div class="chart" id="ghg_time_series"></div>
          <div class="source">
            Source: National Oceanic and Atmospheric Administration (NOAA) <a href="https://www.ncdc.noaa.gov/paleo-search/study/17975" target="_blank">Ice Core records</a> (<a href="https://www1.ncdc.noaa.gov/pub/data/paleo/icecore/antarctica/antarctica2015co2composite.txt" target="_blank">data</a>) before 1959 and <a href="https://www.esrl.noaa.gov/gmd/ccgg/trends/data.html" target="_blank">Mauna Loa records</a> (<a href="ftp://aftp.cmdl.noaa.gov/products/trends/co2/co2_annmean_mlo.txt" target="_blank">data</a>) after 1959.
          </div>
        </div>

        <script>
          (function() {
            var icecore_url = 'data/antarctica2015co2composite.txt';
            var mlo_url = 'data/co2_annmean_mlo.txt';

            d3.queue()
              .defer(d3.text, icecore_url)
              .defer(d3.text, mlo_url)
              .await(function(err, icecore_obj, mlo_obj) {
              if (err) throw err;

              var data = [];
              var split_date = 1959;
              icecore_obj.split('\n')
                .filter(function(d, i) { return i >= 138; })
                .map(function(d) {
                  var r = d.split('\t')
                  return [1950 - +r[0], +r[1]];
                })
                .filter(function(d) { return d[0] < split_date && isFinite(d[1]); })
                .reverse()
                .forEach(function(d) { data.push(d) })
              mlo_obj.split('\n')
                .filter(function(d) { return d[0] != '#'; })
                .map(function(d) {
                  var r = d.split('   ')
                  return [+r[0], +r[1]];
                })
                .filter(function(d) { return d[0] >= split_date; })
                .forEach(function(d) { data.push(d) })

              var option = initialOption();

              option.xAxis.type = 'value';
              option.xAxis.axisLabel = {
                formatter: function(e) { return e.toString() }
              }
              option.xAxis.min = -900000;
              option.yAxis.min = 150;
              option.yAxis.max = 420;

              option.dataZoom = initialDataZoom();
              option.dataZoom[0].startValue = -40000;

              option.grid.bottom = 60;

              option.tooltip.formatter = function(e) {
                var yValue = e[0].data[1];
                var xValue = e[0].data[0];
                var year = xValue < 0 ?
                  Math.round(xValue) + ' BC' :
                  Math.round(xValue) + ' AD';
                return e[0].marker + ' ' + yValue + ' ppm in ' + year;
              }

              option.series = [
                {
                  name: '',
                  type: 'line',
                  showSymbol: false,
                  data: data,
                  areaStyle: {
                    normal: {
                      color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                          offset: 0.5,
                          color: 'rgb(255, 64, 30)'
                      }, {
                          offset: 1,
                          color: 'orange'
                      }])
                    }
                  },
                  markLine: {
                    data: [{ x: '70%', yAxis: data[data.length-1][1] }],
                    label: {
                      normal: {
                        formatter: '2016',
                        position: 'start'
                      },
                    },
                  }
                },
                {
                  name: 'last',
                  type: 'effectScatter',
                  data: [data[data.length - 1]],
                  symbolSize: 10,

                }
              ];

              var chart = echarts.init(document.getElementById('ghg_time_series'))
              chart.setOption(option);
              window.addEventListener('resize', chart.resize);

            });
          })();
        </script>

        <p>
          The <a href="https://www.epa.gov/climate-indicators/climate-change-indicators-atmospheric-concentrations-greenhouse-gases" target="_blank">same trend is visible</a> with other greenhouse gases such as methane (CH<sub>4</sub>) and nitrous oxyde (N<sub>2</sub>O).
        </p>

        <p>
          By comparing the factors causing heating and cooling of the atmosphere between the pre-industrial period (where the greenhouse gas atmospheric levels had not yet increased) and now, we observe that the drastic increase in greenhouse gases <a href="https://www.bloomberg.com/graphics/2015-whats-warming-the-world/" target="_blank">is the main driver behind the observed warming</a> (although some other effects do cause a certain amount of cooling):
        </p>

        <div class="graph">
          <div class="title">Relative changes in <a href="https://en.wikipedia.org/wiki/Radiative_forcing" target="_blank">radiative forcing</a> in 2011 compared to 1750</div>
          <div class="description">in W/m<sup>2</sup></div>
          <div class="chart" id="global_warming_components"></div>
          <div class="source">
            Source: Intergovernmental Panel on Climate Change (IPCC) <a href="http://www.ipcc.ch/pdf/assessment-report/ar5/wg1/WG1AR5_Chapter08_FINAL.pdf" target="_blank">WG1 AR5, Fig. 8.15 p697</a> (<a href="http://www.ipcc.ch/report/ar5/wg1/docs/WG1AR5_AIISM_Datafiles.xlsx" target="_blank">data</a>)
          </div>
        </div>

        <script>
          (function() {
            d3.text('data/IPCC_WG1AR5_All_1_2.csv', function(err, obj) {
              if (err) throw err;

              var raw_data = obj.split('\n')
                .filter(function(_, i) { return i >= 7 && i < 270 })
                //.filter(function(_, i) { return i == 0 || i >= 100 + 1 }) // start 100y after
                .filter(function(d, i) { return i == 0 || d.split(';')[0] == '2011'; })
              var header = raw_data[0].split(';')
                .filter(function(_, j) { return j <= 11 })
              // Sum by column
              var sums = {};
              raw_data.forEach(function(d, i) {
                if (i == 0) { return; } // skip header
                var row = d.split(';')
                header.forEach(function(h, j) {
                  if (j == 0) { return; } // skip year
                  if (sums[h] == undefined) { sums[h] = 0 }
                  sums[h] += +(row[j].replace(',', '.'));
                })
              })

              var data = [
                { name: 'Other man-made changes', value:
                  sums['BC Snow'] +
                  sums['Contrails'] +
                  sums['LUC'] },
                { name: 'Aerosols', value: sums['Aerosol (Total)'] },
                { name: 'Volcano erruptions', value: sums['Volcano'] },
                { name: 'Solar changes', value: sums['Solar'] },
                { name: 'Greenhouse gases', value:
                  sums['CO2'] +
                  sums['GHG OTher*'] +
                  sums['H2O (Strat)'] +
                  sums['O3 (Strat)'] +
                  sums['O3 (Trop)'] },
              ];

              var cumSum = [0];
              data.forEach(function(_, i) {
                if (i == 0) { return; }
                i = data.length - i - 1; // reverse
                cumSum.push(
                  cumSum[cumSum.length - 1]
                  + (data[i + 1].value > 0 ? data[i + 1].value : 0)
                  - (data[i].value < 0 ? -data[i].value : 0));
              })
              cumSum.push(0); data.unshift({name: 'Net observed warming', value: '-'})
              cumSum = cumSum.reverse();

              var option = initialOption();

              option.grid.left = 150;

              option.xAxis.name = 'Warming increase (W/m²)'
              option.xAxis.nameLocation = 'middle'
              option.xAxis.nameGap = 30
              option.grid.bottom += 30

              option.xAxis.type = 'value'
              option.yAxis.data = data.map(function(d) { return d.name })

              option.tooltip.formatter = function(e) {
                var e0 = e
                  .filter(function(d) { return d.seriesName != 'offset' })
                  .filter(function(d) { return d.data != '-'; })[0];
                if (!e0.data) { return; }
                var value = e0.data;
                var name = e0.name;
                var isWarming = e0.seriesName == 'pos';
                return (isWarming ? 'Heating' : 'Cooling') +
                  ' with ' + (isWarming ? '' : '-') + value + ' W/m<sup>2</sup>';
              }

              option.series = [
                // transparent bars the add the offsets
                {
                  name: 'offset',
                  type: 'bar',
                  stack: 'common',
                  data: cumSum,
                  itemStyle: {
                    normal: {
                      barBorderColor: 'rgba(0,0,0,0)',
                      color: 'rgba(0,0,0,0)'
                    },
                    emphasis: {
                      barBorderColor: 'rgba(0,0,0,0)',
                      color: 'rgba(0,0,0,0)'
                    }
                  },
                },
                {
                  name: 'pos',
                  type: 'bar',
                  stack: 'common',
                  data: data
                    .map(function(d) { return d.value < 0 ? '-' : d.value }),
                  label: {
                    normal: {
                      show: true,
                      position: 'right'
                    }
                  }
                },
                {
                  name: 'neg',
                  type: 'bar',
                  stack: 'common',
                  barGap: 0,
                  data: data
                    .map(function(d) { return d.value >= 0 ? '-' : -d.value }),
                  label: {
                    normal: {
                      show: true,
                      position: 'left',
                      formatter: '-{c}'
                    }
                  }
                },
                {
                  name: 'net',
                  type: 'bar',
                  stack: 'common',
                  barGap: 0,
                  data: data.map(function(_, i) {
                    return i == 0 ? cumSum[1] : '-'
                  }),
                  label: {
                    normal: {
                      show: true,
                      position: 'right'
                    }
                  }
                },
              ];

              var chart = echarts.init(document.getElementById('global_warming_components'))
              chart.setOption(option);
              window.addEventListener('resize', chart.resize);
            });
          })()
        </script>

        <p>
          It is important to state that <b>some greenhouse gases will keep warming the Earth many years after they have been emitted</b>, because they do not disappear instantaneously.
          Up to 40% of the CO<sub>2</sub> emitted today <b>will still be present 1 000 years from now</b>, thus still causing warming (see FAQ 12.3 <a href="http://www.ipcc.ch/pdf/assessment-report/ar5/wg1/WG1AR5_Chapter12_FINAL.pdf" target="_blank">here</a>). <a href="http://jancovici.com/en/climate-change/predicting-the-future/will-climate-change-get-rapidely-to-a-halt-if-we-quickly-decrease-the-emissions/" target="_blank">If we were to stop emissions today</a>, CO<sub>2</sub> levels would essentially never come back to its pre-industrial level on time scales relevant for our society.
        </p>
        <p>
          This is in stark contrast with the immediate and ephemeral cooling effect of volcanoes eruptions or <a href="https://earthobservatory.nasa.gov/Features/Aerosols/page3.php" target="_blank">man-made aerosols</a> such as sulphates, nitrate or soot that stay in the atmosphere for a very short time.

          It is therefore very important to reduce greenhouse gas emissions very quickly, as <b>they will affect the climate in the centuries (even millenniums) to come</b>. So how do we do it?
        </p>


        <h1>2. Humans</h1>
        <h2>Where do greenhouse gases come from?</h2>

        Most greenhouse gases come from burning <a href="https://en.wikipedia.org/wiki/Fossil_fuel" target="_blank">fossil fuels</a> (oil, gas or coal). That happens as soon as we drive a car, take a plane or use electricity.
        It also indirectly happens when we consume objects or food, that required a lot of energy to be produced, or assembled from parts transported from afar.

        <div class="graph">
          <div class="title">Man-made greenhouse gas emissions in 2010</div>
          <div class="description">% of total</div>
          <div class="chart" id="ghg_origin"></div>
          <div class="source">
            Source: <a href="https://www.accenture.com/t00010101T000000__w__/br-pt/_acnmedia/PDF-11/Accenture-Strategy-Energy-Perspectives-Consequences-COP21.pdf" target="_blank">Accenture Energy Perspectives - Consequences of COP21 for the Oil and Gas Industry</a>, Fig. 12 p14.<br />
            A fascinating Sankey diagram shows this in much more details <a href="https://www.ecofys.com/files/files/world-ghg-emission-flow-chart-2012_v9-c-asn-ecofys-2016_02.pdf" target="_blank">here</a>.
          </div>
        </div>

        <script>
          (function() {

            var data = [
              { name: 'Fossil fuels consumption', value: 48.9 - 12.2 - 4.4 , color: '#c23531'},
              { name: 'Agriculture and\ndeforestation', value: 12.2, color: '#749f83' },
              { name: 'Non-energy related industrial processes', value: 4.4, color: '#546570' },
            ].reverse();

            // Percentage
            var total = d3.sum(data, function(d) { return d.value; })
            data.forEach(function(d) {
              d.value /= total / 100;
            })

            var option = initialOption();

            option.grid.left = 130;

            option.xAxis.type = 'value'
            option.xAxis.axisLabel = {formatter: '{value}%'};
            option.grid.bottom = 50;

            option.yAxis.data = data.map(function(d) { return d.name })

            option.tooltip.trigger = 'none';

            option.series = [
              {
                type: 'bar',
                data: echarts.util.map(data, function (d) {
                  return {
                    value: d.value,
                    itemStyle: {
                      normal: {
                        color: d.color
                      }
                    }
                  }
                }),
                label: {
                  normal: {
                    show: true,
                    position: 'right',
                    formatter: function(e) {
                      return Math.round(e.data.value) + '%';
                    }
                  }
                }
              },
            ];

            var chart = echarts.init(
              document.getElementById('ghg_origin'));
            chart.setOption(option);
            window.addEventListener('resize', chart.resize);
          })();
        </script>

        <p>
          A substantial amount of agricultural emissions comes from <b>cows and other livestock emitting methane</b> (CH<sub>4</sub>) as part of their <a href="https://en.wikipedia.org/wiki/Enteric_fermentation" target="_blank">digestive process</a>.
          Furthermore, <b>deforestation leads to less trees absorbing CO<sub>2</sub></b> through <a href="https://en.wikipedia.org/wiki/Photosynthesis" target="_blank">photosynthesis</a>, and the use of <b>nitrogen-based fertilizers</b> in agriculture emits Nitrous Oxide (N<sub>2</sub>O), which is a greenhouse gas.
          Note that the use of fossil fuels (or electricity) for operating agricultural machines is not even included in these 25%. By comparison, all road-travel globally only accounts for 11%.
        </p>
        <p>
          Finally, some 9 % of global emissions relates to certain types of heavy industrial processes, such as kiln production for cemeteries, whose emissions are not related to the burning of fossil-fuels, and which must be accounted for separately.
        </p>

        <h2>Fossil fuels are used everywhere, and for good reasons</h2>

        <p>
          Historically, the world's energy has come from burning trees (biomass) for heat and tool manufacturing.
          However, the invention of an efficient steam engine by James Watt in 1784 meant humans were now able to convert existing <a href="https://en.wikipedia.org/wiki/Fossil_fuel" target="_blank">fossil fuels</a> (coal, and later oil and gas) into intensive mechanical work (lifting heavy objects or turning the wheels of a very heavy train for example).
          Furthermore, it enabled humans to build machines to dig up even more fossil fuels, enabling an exponential growth of our energy usage.
        </p>
        <p>
          The discovery of new types of fuels such as oil and gas did not replace the usage of existing fuels: it fuelled additional growth instead.
        </p>

        <div class="graph">
          <div class="title">World primary energy consumption since 1800</div>
          <div class="description">in EJ (exajoules)</div>
          <div class="chart" id="tpes_historical"></div>
          <div class="source">
            Source: <a href="https://ourworldindata.org/energy-production-and-changing-energy-sources/#global-total-energy-production-long-run-view-by-source">Our World In Data</a> (<a href="https://ourworldindata.org/grapher/global-primary-energy-consumption-1800-2015.csv">data</a>)
          </div>
        </div>

        <script>
          (function() {
            var url = 'data/global-primary-energy-consumption-1800-2015.csv';

            d3.csv(url, function(err, obj) {
              if (err) throw err;

              // Add an aggreate field that sums biofuels
              obj.forEach(function(d) {
                d['Biofuels'] =
                  +d['Modern biofuels'] + +d['Traditional biofuels']
              })
              var mapping = {
                'Coal': 'coal',
                'Crude oil': 'oil',
                'Natural gas': 'gas',
                'Hydroelectricity': 'hydro',
                'Nuclear electricity': 'nuclear',
                'Wind and solar': 'wind & solar',
                // 'Modern biofuels': 'biomass',
                // 'Traditional biofuels': 'biomass'
                'Biofuels': 'biomass'
              }
              var colors = {
                'wind & solar': '#74cdb9',
                // 'solar': '#f27406',
                'hydro': '#2772b2',
                'biomass': '#166a57',
                'nuclear': '#AEB800',
                'gas': '#bb2f51',
                'coal': '#ac8c35',
                'oil': '#867d66',
              };
              var byFuel = {};
              var xData = [];
              obj.forEach(function(d) {
                xData.push(d.Year)
                Object.keys(d).forEach(function(k) {
                  if (!mapping[k]) { return; }
                  var kk = mapping[k];
                  if (!byFuel[kk]) { byFuel[kk] = []; }
                  byFuel[kk].push(+d[k])
                })
              })

              data = [
                {name: 'biomass', values: byFuel['biomass']},
                {name: 'coal', values: byFuel['coal']},
                {name: 'oil', values: byFuel['oil']},
                {name: 'gas', values: byFuel['gas']},
                {name: 'hydro', values: byFuel['hydro']},
                {name: 'nuclear', values: byFuel['nuclear']},
                {name: 'wind & solar', values: byFuel['wind & solar']},
              ]

              var option = initialOption();

              option.xAxis.data = xData;

              option.tooltip.formatter = function(e) {
                e.reverse();
                var year = e[0].axisValueLabel;
                var sum = d3.sum(e, function(d) { return d.data; })
                var html = year + ':<br />' +
                  e.map(function(d) {
                    return d.marker + ' ' + d.seriesName + ': ' + d.data + ' (' + Math.round(d.data * 100 / sum) + ' %)';
                  }).join('<br />')
                html += '<br />--<br />'
                var ff = d3.sum(e.filter(function(d) {
                  return ['gas', 'oil', 'coal'].indexOf(d.seriesName) != -1
                }), function(d) { return d.data });
                html += 'Fossil fuels: ' + (Math.round(ff * 100) / 100) + ' (' + Math.round(ff * 100 / sum) + ' %)';
                return html;
              }

              option.legend = {
                data: data.map(function(d) { return d.name; }).reverse(),
                orient: 'vertical',
                x: 'right',
                y: 'center'
              }
              option.legend.selected = {};
              data.forEach(function(d) {
                option.legend.selected[d.name] = false;
              })

              option.grid.right = 120;

              option.yAxis.max = 550;

              option.color = data.map(function(d) { return colors[d.name] })
              option.series = data.map(function(d) {
                return {
                  name: d.name,
                  type: 'line',
                  symbol: 'none',
                  stack: 'common',
                  data: d.values,
                  areaStyle: { normal: { } },
                  lineStyle: { normal: { } }
                }
              })

              var chart = echarts.init(document.getElementById('tpes_historical'))
              chart.setOption(option);
              window.addEventListener('resize', chart.resize);

              var i = 0;
              function scheduleNext() {
                option.legend.selected[data[i].name] = true;
                chart.setOption(option);
                if (i < data.length - 1) {
                  i++;
                  setTimeout(scheduleNext, 1000);
                }
              }

              window.tpesHistoricalPlay = scheduleNext;

            });
          })();
        </script>

        <p>
          Although wind and solar power are a decent part of newly installed energy production facilities nowadays (we hear about it very often in the news), it is still only 1% percent of global primary energy supply.
          In fact, we see that we currently still get <b>83% of our energy from fossil fuels</b>, which surprisingly is <b>exactly the same as in 1980</b>: the growth of renewables has been matched by (or even <a href="http://www.nationalobserver.com/2017/07/13/analysis/these-missing-charts-may-change-way-you-think-about-fossil-fuel-addiction" target="_blank">outpaced by</a>) a similar growth of fossil fuels. How come?
        </p>

        <p>
          The answer is that fossil fuels pack an intense amount of energy in a small volume and small weight.
          Oil in particular, being light and dense, enabled the invention of modern transportation.
          <b>The energy released when burning 1&nbsp;litre of oil is equivalent to 25 professional athletes cycling for one hour.
          That single litre of oil weighs under 1&nbsp;kg and costs 100 to 1000 times less than the equivalent human labour.</b>
          Thus it is no mystery that intensive human labour got replaced by machines, propelling humanity into an industrialised age where the use of fossil fuels <a href="https://ourworldindata.org/employment-in-agriculture" target="_blank">displaced jobs from agriculture to the service sector</a>.
        </p>

        <p>
          Every day, an average person on Earth uses roughly <a href="http://data.worldbank.org/indicator/EG.USE.PCAP.KG.OE" target="_blank">60 kWh</a> of energy per day.
          That means that <b>every day, we each have an equivalent of 15 professional cyclists dedicated to us to support our living standards</b>.
          The current quality of life that we are enjoying has been enabled by the efficient use of fossil fuels freeing us from intensive human labour.
        </p>
        <p>
          To get an even more concrete idea, take a look at this video to see <a href="https://en.wikipedia.org/wiki/Robert_F%C3%B6rstemann">Robert Förstemann</a>, professional track cyclist and sprint specialist, struggle to power his toaster:
        </p>


        <div class="graph">
          <iframe width="100%" height="315" src="https://www.youtube.com/embed/S4O5voOCqAQ">
          </iframe>
          <div class="description"></div>
        </div>

        <p>
          Nowadays we don't spend an enormous amount of our time and energy to power our toaster: we use electricity instead, unfortunately still mostly generated by <a href="https://en.wikipedia.org/wiki/World_energy_consumption#Energy_supply.2C_consumption_and_electricity" target="_blank">burning fossil fuels</a>.
        </p>

        <!-- <h2>Food / agriculture deep-dive</h2>
        <p class="incomplete">TBD</p>
        <h2>Industrial processes</h2>
        <p class="incomplete">TBD</p> -->

        <h1>What can we do?</h1>
        <h2>Objective: 2 tons CO<sub>2</sub>eq per human per year by 2050</h2>

        <p>
          All <a href="https://en.wikipedia.org/wiki/Greenhouse_gas" target="_blank">greenhouse gases</a> differ by how much radiation they trap and by how long they stay in the atmosphere.
          To be able to compare them, we convert the mass of any greenhouse gases into the mass of CO<sub>2</sub> that would yield an equivalent warming over 100 years.
          That unit is called <b>CO<sub>2</sub> equivalent</b>, abbreviated CO<sub>2</sub>eq.
          For example, 1g of N<sub>2</sub>O (nitrous oxide, used in fertilizers) corresponds to 300gCO<sub>2</sub>eq.
        </p>

        <p>
          <!-- Start with projection, aim 2050, and look at CO2. Divide by pop. -> 2t / pers.
          http://tntcat.iiasa.ac.at:8787/RcpDb/dsd?Action=htmlpage&page=compare
          http://uneplive.unep.org/media/docs/theme/13/EGR_2015_Technical_Report_final_version.pdf
          IPCC graph

          http://uneplive.unep.org/media/docs/theme/13/EGR_2015_Technical_Report_final_version.pdf ->
          carbon budget: 1 000 GtCO2 (not eq!)
          yearly emissions in 2030 for 2deg 42Gtco2eq
          2050: ~23tco2eq

          pop: 2030, 8.5B -> 4.9t / pers / year
          2050: 9.8 -> 2.3t / pers / year


        -->
          The <a href="https://en.wikipedia.org/wiki/Paris_Agreement" target="_blank">Paris climate accord</a> has set the world an objective of limiting global warming to 2&deg;C objective at horizon 2100.
          In order to get there, models <a href="http://uneplive.unep.org/media/docs/theme/13/EGR_2015_Technical_Report_final_version.pdf" target="_blank">projecting global emission</a> compatible with the 2&deg;C objective have been made.
          Using <a href="https://en.wikipedia.org/wiki/Projections_of_population_growth" target="_blank">population growth projections</a>, we can deduce the amount CO<sub>2</sub>eq we should be allowed to emit per person and per year:
        </p>
        <p>
          <center>
            5 tons CO<sub>2</sub>eq per person per year by 2030<br />
            <b>2 tons CO<sub>2</sub>eq per person per year by 2050</b><br />
            0 tons CO<sub>2</sub>eq per person per year by 2070
          </center>
        </p>

        <p>
          This also means using only 34% of the <a href="https://www.accenture.com/_acnmedia/PDF-11/Accenture-Strategy-Energy-Perspectives-Rougher-Seas-Ahead.pdf" target="_blank">proven fossil fuel reserves</a>, leaving the rest of it in the ground.
          It is highly unlikely that the free market, without any regulation, achieves this result.
        </p>

        <p>
          So how do we all reach that objective? Do we recycle more? Eat organic? Vote for more wind turbines? In this jungle of complex decisions, some pragmatism has to be introduced, in the form of a sober quantification of the impact of the different choices we make.
        </p>

        <p>
          It all starts with <b>figuring out how much we're emitting compared to the 2t objective</b>.
          Here's an estimate of personal emissions depending on where you live:
        </p>


        <div class="graph">
          <div class="title">Average personal carbon footprint by country in 2013</div>
          <div class="description">in tCO<sub>2</sub>eq per person per year</div>
          <div class="chart" id="carbon_intensity_world_map"></div>
          <div class="source">
            Source: <a href="http://www.wri.org/resources/data-sets/cait-historical-emissions-data-countries-us-states-unfccc" target="_blank">World Resource Institute</a> (<a href="http://cait.wri.org/historical/export/Country%20GHG%20Emissions/WorldResourcesInstituteCAIT.csv?&keyField=Country&unit=MtCO2e&unit=MtCO%E2%82%82e%E2%80%8D&unit=People&indicator[]=Total%20GHG%20Emissions%20Excluding%20Land-Use%20Change%20and%20Forestry&indicator[]=Total%20GHG%20Emissions%20Including%20Land-Use%20Change%20and%20Forestry&indicator[]=Population&year[]=2013&sortIdx=1&sortDir=desc&chartType=geo" target="_blank">data</a>)
          </div>
        </div>

        <script>
          (function() {
            d3.text('data/WorldResourcesInstituteCAIT.csv', function(err, obj) {
              if (err) throw err;

              var year = 2013;

              var data = obj.split('\n')
                .filter(function(d, i) { return i > 0; })
                .map(function(d) {
                  return d.split(',"').map(function(s) {
                    return s.replace('"', '').replace('"', '')
                  });
                })
                .filter(function(d) {
                  return [
                    'World',
                    'European Union (28)',
                    'European Union (15)'
                  ].indexOf(d[0]) == -1
                  && d[1] == year.toString()
                  && d[4] != '';
                })
                .map(function(d) {
                  return {
                    name: d[0],
                    intensity: +d[2] * 1e6 / +d[4], // excluding land use + forestry
                    population: +d[4] / 1e9 // in billions
                  }
                }).sort(function(a, b) {
                  return d3.descending(a.intensity, b.intensity);
                });

              // Convert to percentages
              var totalPopulation = d3.sum(data, function(d) { return d.population; })
              data.forEach(function(d) {
                d.population /= totalPopulation / 100;
              })

              var totalEmissions = d3.sum(data, function(d) { return d.population * d.intensity; })

              // [from, to, height, name]
              var chartData = [[0, data[0].population, data[0].intensity, data[0].name]]
              data.forEach(function(d, i) {
                if (i == 0) { return; }
                var from = chartData[chartData.length - 1][1];
                chartData.push([
                  from,
                  from + d.population,
                  d.intensity,
                  d.name
                ])
              })

              var option = {
                tooltip: {
                  trigger: 'item',
                  formatter: function(e) {
                    if (e.componentType != 'series') { return; }
                    var d = data[e.dataIndex];
                    if (!d) { return }
                    var intensity = Math.round(d.intensity);
                    var emissionPercent =
                      Math.round(d.population * d.intensity * 10000.0 / totalEmissions) / 100.0;
                    return d.name + ': ' + intensity + ' tons / person / year' + '<br />' + emissionPercent + '% of total emissions';
                  }
                },
                series: [{
                  type: 'map',
                  map: 'world',
                  roam: true,
                  label: {
                    normal: {
                      show: false
                    },
                    emphasis: {
                      show: false
                    }
                  },
                  data: data.map(function(d) {
                    return {name: d.name, value: d.intensity}
                  })
                }],
                visualMap: {
                    min: 0,
                    max: 20,
                    left: 'left',
                    top: 'bottom',
                    calculable: true,
                    formatter: function(d) { return Math.round(d) + 't'}
                },
              }

              var chart = echarts.init(document.getElementById('carbon_intensity_world_map'))
              chart.setOption(option);
              window.addEventListener('resize', chart.resize);
            });
          })()
        </script>

        <p>
          Most countries in the world are far from the 2t objective.
          Note that the more a country is populated, the more its average footprint will affect global emissions.
          For example, the United States has an average footprint almost identical to Canada, but due to its large population it contributes to 14% of global emissions (compared to only 2% for Canada).
          We therefore need to look at both population and footprint per person:
        </p>

        <div class="graph">
          <div class="title">World greenhouse gas emissions by country in 2013</div>
          <div class="description">in tCO<sub>2</sub>eq per person per year</div>
          <div class="chart" id="carbon_intensity_world"></div>
          <div class="source">
            Source: <a href="http://www.wri.org/resources/data-sets/cait-historical-emissions-data-countries-us-states-unfccc" target="_blank">World Resource Institute</a> (<a href="http://cait.wri.org/historical/export/Country%20GHG%20Emissions/WorldResourcesInstituteCAIT.csv?&keyField=Country&unit=MtCO2e&unit=MtCO%E2%82%82e%E2%80%8D&unit=People&indicator[]=Total%20GHG%20Emissions%20Excluding%20Land-Use%20Change%20and%20Forestry&indicator[]=Total%20GHG%20Emissions%20Including%20Land-Use%20Change%20and%20Forestry&indicator[]=Population&year[]=2013&sortIdx=1&sortDir=desc&chartType=geo" target="_blank">data</a>)
            <p>
              Each square represents a country.
              Its height represents the average personal footprint (to be compared against the 2t&nbsp;objective), and its width represents the number of people in that country.
              The area therefore represents the total amount of emissions from a given country.
            </p>
          </div>
        </div>

        <script>
          (function() {
            d3.text('data/WorldResourcesInstituteCAIT.csv', function(err, obj) {
              if (err) throw err;

              var year = 2013;

              var data = obj.split('\n')
                .filter(function(d, i) { return i > 0; })
                .map(function(d) {
                  return d.split(',"').map(function(s) {
                    return s.replace('"', '').replace('"', '')
                  });
                })
                .filter(function(d) {
                  return [
                    'World',
                    'European Union (28)',
                    'European Union (15)'
                  ].indexOf(d[0]) == -1
                  && d[1] == year.toString()
                  && d[4] != '';
                })
                .map(function(d) {
                  return {
                    name: d[0],
                    intensity: +d[2] * 1e6 / +d[4], // excluding land use + forestry
                    population: +d[4] / 1e9 // in billions
                  }
                }).sort(function(a, b) {
                  return d3.descending(a.intensity, b.intensity);
                });

              // Convert to percentages
              var totalPopulation = d3.sum(data, function(d) { return d.population; })
              data.forEach(function(d) {
                d.population /= totalPopulation / 100;
              })

              var totalEmissions = d3.sum(data, function(d) { return d.population * d.intensity; })

              // [from, to, height, name]
              var chartData = [[0, data[0].population, data[0].intensity, data[0].name]]
              data.forEach(function(d, i) {
                if (i == 0) { return; }
                var from = chartData[chartData.length - 1][1];
                chartData.push([
                  from,
                  from + d.population,
                  d.intensity,
                  d.name
                ])
              })

              // chartData = echarts.util.map(chartData, function (item, index) {
              //     return {
              //         value: item,
              //         itemStyle: {
              //             normal: {
              //                 // color: 'darkred',
              //                 borderColor: 'black',
              //                 borderWidth: 1
              //             }
              //         }
              //     };
              // });

              function renderItem(params, api) {
                var yValue = api.value(2);
                var start = api.coord([api.value(0), yValue]);

                var size = api.size([api.value(1) - api.value(0), yValue]);
                var style = api.style();

                return {
                  type: 'rect',
                  shape: echarts.graphic.clipRectByRect({
                    x: start[0],
                    y: start[1],
                    width: size[0],
                    height: size[1]
                }, {
                    x: params.coordSys.x,
                    y: params.coordSys.y,
                    width: params.coordSys.width,
                    height: params.coordSys.height
                }),
                  style: style
                };
              }

              var option = initialOption();

              option.xAxis.name = 'of world population';
              option.xAxis.nameLocation = 'middle';
              option.xAxis.position = 'bottom';
              option.xAxis.nameGap = 50;
              option.xAxis.axisLabel = {formatter: '{value}%', margin: 30};
              option.grid.bottom = 80;

              option.yAxis.name = 'personal footprint';
              option.yAxis.nameLocation = 'middle';
              option.yAxis.nameRotate = 90;
              option.yAxis.nameGap = 35;
              option.yAxis.axisLabel = {formatter: '{value}t'};

              option.dataZoom = initialDataZoom();
              option.dataZoom[0].bottom = option.grid.bottom - 20;
              option.dataZoom[0].startValue = 1;
              option.dataZoom[0].endValue = 100;
              option.dataZoom[0].labelFormatter = '';
              option.dataZoom[0].filterMode = 'weakFilter'; // to enable drawing

              option.tooltip.trigger = 'item';
              option.tooltip.formatter = function(e) {
                if (e.componentType != 'series') { return; }
                var d = data[e.dataIndex];
                var intensity = Math.round(d.intensity);
                var emissionPercent =
                  Math.round(d.population * d.intensity * 10000.0 / totalEmissions) / 100.0;
                return d.name + ': ' + intensity + ' tons / person / year' + '<br />' + emissionPercent + '% of total emissions';
              }

              option.grid.right = 100;// for mark label

              option.series =  [
                {
                  type: 'custom',
                  renderItem: renderItem,
                  // label: {
                  //   normal: {
                  //     show: true,
                  //     position: 'top',
                  //     textStyle: {
                  //       color: 'black'
                  //     }
                  //   }
                  // },
                  dimensions: ['from', 'to', 'intensity'],
                  encode: {
                    x: [0, 1],
                    y: 2,
                    tooltip: [0, 1, 2],
                    label: 3,
                    itemName: 3
                  },
                  data: chartData,
                  itemStyle: {
                    normal: {
                      color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                          offset: 0,
                          color: 'rgb(255, 64, 30)'
                      }, {
                          offset: 1,
                          color: 'orange'
                      }]),
                      borderColor: 'black',
                      borderWidth: 0.1
                    },
                  },
                  markLine: {
                    symbol: 'none',
                    data: [{ yAxis: 2 }],
                    label: {
                      normal: {
                        formatter: 'Paris 2t objective 2050',
                        position: 'end'
                      },
                    },
                    lineStyle: {
                      normal: {
                        color: 'darkgreen',
                        width: 3
                      }
                    }
                  }
                }
              ]

              var chart = echarts.init(document.getElementById('carbon_intensity_world'))
              chart.setOption(option);
              window.addEventListener('resize', chart.resize);
            });
          })()
        </script>

        <p>
          <b>80% of the world lives above the 2t objective</b>.
          Furthermore, half of the world is above the 5t objective for 2030.
          This is no small challenge, and the matter must be taken seriously.
        </p>

        <p>
          Note that even within a country, our personal footprint can vary quite a lot depending on our wealth and consumption habits.
          Therefore, it is important to be able to measure our footprint precisely enough to trigger personal behavioural change.
          If you're curious about your own footprint, there's <a href="https://www.google.com/search?q=personal+carbon+calculator" target="_blank">a lot of calculators available on the web</a>.
        </p>
        </p>
          We're also working on a real-time automatic calculator of our own: you could <a href="https://electricitymap.us15.list-manage.com/subscribe/post?u=8689fc68cd6c50ec671a95afb&id=96da98142a" target="_blank">subscribe to the beta</a>.
        </p>
        <p>
          In the next sections, we're going to give an overview of the impact of some daily decisions we make related to transportation, food and electricity.
          We will present comparable quantities in order to show which behaviour changes can have the most impact.
        </p>
        <p>
          Finally it is important to understand that <b>no activity is carbon-free</b>.
          Even the production of renewable energy requires the construction of wind turbines and solar panels, which will emit greenhouse gases during transportation, assembly, and mining of the necessary <a href="https://en.wikipedia.org/wiki/Precious_metal" target="_blank">rare metals</a>.
        </p>

        <h2>Transportation: Reduce long-distance travels</h2>

        <div class="graph">
          <div class="title">Greenhouse gas intensity of transportation modes</div>
          <div class="description">in gCO<sub>2</sub>eq / person / km</div>
          <div class="chart" id="ghg_intensity_transportation" style="height: 500px"></div>
          <div class="source">
            Source: <a href="http://www.ecoinvent.org/" target="_blank">Ecoinvent 3</a> through <a href="https://static.ducky.no/calculator_documentation.pdf" target="_blank">ducky.no</a>, <a href="http://shrinkthatfootprint.com/electric-car-emissions" target="_blank">Shrink that footprint</a> and <a href="https://www.theguardian.com/environment/datablog/2009/sep/02/carbon-emissions-per-transport-type" target="_blank">The Guardian</a>.<br>
            Bus assumes urban use with 75% occupancy. Motorcycle is assumed 250-750cc. Car sharing assumes driver + 3 passengers. Low-carbon electricity assumes France and high carbon Australia.
          </div>
        </div>

        <script>
          (function() {

            var modeColor = {
              // 'wind': '#74cdb9',
              // 'solar': '#f27406',
              // 'airplane': '#2772b2',
              // 'biomass': '#166a57',
              // 'geothermal': 'yellow',
              // 'nuclear': '#AEB800',
              // 'gas': '#bb2f51',
              // 'coal': '#ac8c35',
              // 'oil': '#867d66',
            };

            var data = [
              { name: 'walk', intensity: 24.15, label: '🚶 walk (average diet)' },
              { name: 'bike', intensity: 18.40, label: '🚴 cycle (average diet)' },
              // { name: 'scooter', intensity: 47.90, label: '🚴 scooter' },
              { name: 'motorcycle', intensity: 120.70, label: '🏍 motorcycle' },

              { name: 'car (diesel)', intensity: 182.94, label: '🚗 car (diesel)' },
              { name: 'car (low-carbon electric)', intensity: 93, label: '🚙 electric car\n(low-carbon electricity)' },
              { name: 'car (high-carbon electric)', intensity: 292, label: '🚙 electric car\n(high-carbon electricity)' },

              { name: 'bus', intensity: 41.63, label: '🚌 bus' },
              { name: 'car sharing (diesel)', intensity: 45.73, label: '🚗 car sharing (diesel)' },

              { name: 'train (diesel)', intensity: 48.64, label: '🚂 train (diesel)' },
              { name: 'train (electric)', intensity: 23.46, label: '🚆 train (electric)' },


              { name: 'airplane', intensity: 239, label: '✈️ airplane (long distance)' },
              { name: 'airplane', intensity: 340, label: '✈️ airplane (short distance)' },
            ].reverse();

            var option = initialOption();

            option.grid.left = 170;

            option.xAxis.name = 'Greenhouse gas intensity in gCO₂eq / person / km';
            option.xAxis.nameLocation = 'middle';
            option.xAxis.nameGap = 30;
            option.grid.bottom = 50;

            option.xAxis.type = 'value'
            option.yAxis.data = data.map(function(d) { return d.label || d.name })

            option.tooltip.trigger = 'none';

            option.series = [
              {
                type: 'bar',
                data: echarts.util.map(data, function (d) {
                  return {
                    value: d.intensity,
                    itemStyle: {
                      normal: {
                        color: modeColor[d.name]
                      }
                    }
                  }
                }),
                label: {
                  normal: {
                    show: true,
                    position: 'right'
                  }
                }
              },
            ];

            var chart = echarts.init(
              document.getElementById('ghg_intensity_transportation'));
            chart.setOption(option);
            window.addEventListener('resize', chart.resize);
          })();
        </script>

        <p>
          Note that even though long-distance plane trips are almost as efficient (per distance travelled) as conventional cars, they end up being a substancial part of our footprint, due to the fact that we use them for longer distances.
          If you can, travel by train, use shared mobility, or simply reduce distances travelled.
        </p>

        <p>
          Ultimately, in order to completely get rid of fossil fuels, <b>we will have few choices but to switch to electric transportation with electricity being produced carbon-free</b> (else, it would reduce all of our efforts to nothing).
        </p>


        <h2>Electricity: remove coal, gas and oil power plants</h2>
        <div class="graph">
          <div class="title">Greenhouse gas intensity of electricity production modes</div>
          <div class="description">in gCO<sub>2</sub>eq / kWh consumed</div>
          <div class="chart" id="ghg_intensity_electricity"></div>
          <div class="source">
            Source: Live cycle emissions from <a href="https://github.com/tmrowco/electricitymap#carbon-intensity-calcuation-and-data-source" target="_blank">Electricity Map</a> (<a href="https://github.com/tmrowco/electricitymap/blob/master/config/co2eq_parameters.js" target="_blank">data</a>) and <a href="http://www.lowtechmagazine.com/2015/05/sustainability-off-grid-solar-power.html" target="_blank">How Sustainable is Stored Sunlight?</a> for solar + storage intensity estimations.
          </div>
        </div>

        <script>
          (function() {

            var modeColor = {
              'wind': '#74cdb9',
              'solar': '#f27406',
              'hydro': '#2772b2',
              'wind + storage': '#2772b2',
              'biomass': '#166a57',
              'geothermal': 'yellow',
              'nuclear': '#AEB800',
              'gas': '#bb2f51',
              'coal': '#ac8c35',
              'oil': '#867d66',
            };

            var data = [
              { name: 'wind', intensity: 12 },
              { name: 'wind + storage', intensity: null },
              { name: 'solar', intensity: 45 },
              { name: 'solar + storage', intensity: 100 },
              { name: 'hydro', intensity: 24 },
              { name: 'geothermal', intensity: 38 },
              { name: 'biomass', intensity: 230 },
              { name: 'nuclear', intensity: 12 },
              { name: 'gas', intensity: 490 },
              { name: 'oil', intensity: 650 },
              { name: 'coal', intensity: 820 },
            ].reverse();

            var option = initialOption();

            option.xAxis.name = 'Greenhouse gas intensity in gCO₂eq per kWh consumed';
            option.xAxis.nameLocation = 'middle';
            option.xAxis.nameGap = 30;
            option.grid.bottom = 50;

            option.xAxis.type = 'value'
            option.yAxis.data = data.map(function(d) { return d.name })

            option.grid.left = 90;

            option.tooltip.trigger = 'none';

            option.series = [
              {
                type: 'bar',
                data: echarts.util.map(data, function (d) {
                  return {
                    value: d.intensity,
                    itemStyle: {
                      normal: {
                        color: modeColor[d.name]
                      }
                    }
                  }
                }),
                label: {
                  normal: {
                    show: true,
                    position: 'right'
                  },
                }
              },
            ];

            var chart = echarts.init(
              document.getElementById('ghg_intensity_electricity'));
            chart.setOption(option);
            window.addEventListener('resize', chart.resize);
          })();
        </script>

        <p>
          It is crucial that we <b>get rid of fossil fuels for electricity generation</b>.
          To keep track of how we stand, check out the <a href="https://www.electricitymap.org" target="_blank">Electricity&nbsp;Map</a>.
          Low-carbon strategies fall into two categories in regions where the terrain does not allow the installation of large-scale hydropower: nuclear and wind/solar.
          Nuclear has a waste problem and wind/solar suffers from intermittency, and must therefore incorporate a storage solution in order to deliver electricity continuously.
        </p>
        <p>
          If you're living in a country with high renewable penetration, you can reduce the need for storage by <b>consuming electricity when the wind blows, or when the sun shines</b>.
          Even better: have your heating systems and electric car <a href="https://www.co2signal.com" target="_blank">do it automatically</a>.
        </p>

        <h2>Food: avoid red meat</h2>

        <div class="graph">
          <div class="title">Greenhouse gas intensity of food</div>
          <div class="description">in gCO<sub>2</sub>eq / kcal</div>
          <div class="chart" id="ghg_intensity_food"></div>
          <div class="source">
            Source: Carbon Intensity of Eating, from <a href="http://shrinkthatfootprint.com/food-carbon-footprint-diet" target="_blank">Shrink that footprint</a>.
          </div>
        </div>

        <script>
          (function() {

            var modeColor = {
              'vegetables': '#166a57',
              'fruits': 'green',
              'bread': '#f27406',
              'milk': 'darkgray',
              'chicken': '#ac8c35',
              'cattle': 'darkred',
            };

            var data = [
              { name: 'vegetables', intensity: 2.8, label: '🥕 vegetables' },
              { name: 'fruits', intensity: 4.6, label: '🍏 fruits' },
              { name: 'bread', intensity: 1.3, label: '🍞 bread & cereals'},
              { name: 'milk', intensity: 4.5, label: '🥛 milk' },
              { name: 'chicken', intensity: 3.8, label: '🐔 chicken, 🐟 fish & 🐷 pork' },
              { name: 'cattle', intensity: 14.1, label: '🐮 beef & lamb' },
            ].reverse();

            var option = initialOption();

            option.grid.left = 160;

            option.xAxis.name = 'Greenhouse gas intensity in gCO₂eq per kcal';
            option.xAxis.nameLocation = 'middle';
            option.xAxis.nameGap = 30;
            option.grid.bottom = 50;

            option.xAxis.type = 'value'
            option.yAxis.data = data.map(function(d) { return d.label || d.name })

            option.tooltip.trigger = 'none';

            option.series = [
              {
                type: 'bar',
                data: echarts.util.map(data, function (d) {
                  return {
                    value: d.intensity,
                    itemStyle: {
                      normal: {
                        color: modeColor[d.name]
                      }
                    }
                  }
                }),
                label: {
                  normal: {
                    show: true,
                    position: 'right'
                  }
                }
              },
            ];

            var chart = echarts.init(
              document.getElementById('ghg_intensity_food'));
            chart.setOption(option);
            window.addEventListener('resize', chart.resize);
          })();
        </script>

        <p>
          The simplest thing you can do is to avoid red meat, as cattles require a lot of resources and emit a lot of greenhouse gases as part of their digestive process.
          It has been estimated that <b>a meat-intensive diet usually has <a href="http://shrinkthatfootprint.com/food-carbon-footprint-diet" target="_blank">twice a bigger footprint</a> of a vegetarian.</b>
        </p>

        <p>
          It is important to note that although doing differently might help, reducing your absolute level of consumption might be the only way to get to the 2t objective.
          Even a low-carbon activity can cumulate to great amounts when repeatedly carried out.
        </p>

        <h2>Information must be accessible and widely spread</h2>
        <p>
          How do we get a whole civilisation to shift consumption patterns?
        </p>
        <p>
          At <a href="https://www.tmrow.com">Tomorrow</a> we have a vision of a world where the price we pay for goods and services takes into account long-term climate consequences (also called <a href="https://en.wikipedia.org/wiki/Externality" target="_blank">externalities</a>).
        </p>
        <p>
          This would naturally <b>reward low-carbon consumption decisions</b>, incentivizing people to stay under the 2t yearly budget.
        </p>
        <p>
          In order to get there, we must put in place a <b>consumer-centric carbon tax</b>.
          It could very well replace the VAT (<a href="https://en.wikipedia.org/wiki/Value-added_tax" target="_blank">Value-Added Tax</a>), such that the total amount of tax is kept equal but simply distributed differently across goods, making low-carbon products cheaper.
        </p>
        <p>
          This requires centralizing <b>knowledge about the carbon intensities of each and every one of our activities</b>, enabling us to take better decisions.
        </p>
        <p>
          We believe that we, consumers, should be made aware and rewarded for positive action. We believe that by giving us an idea of the impact of our consumption habits, we become empowered to make better choices.
        </p>

        <p>
          We're on a mission to <b>build the information technology</b> that will enable sustainable means of consumption.
          <a href="https://electricitymap.us15.list-manage.com/subscribe/post?u=8689fc68cd6c50ec671a95afb&id=96da98142a" target="_blank">Sign up</a> for our upcoming beta, or <a href="index.html#jobs">join us</a> to help us make it happen.
        </p>

        <p>
          <!-- Facebook share -->
          <div class="fb-share-button"
               data-href="https://www.tmrow.com/climatechange.html"
               data-layout="button_count">
          </div>
          <!-- Twitter share -->
          <a class="twitter-share-button"
             data-url="https://www.tmrow.com/climatechange.html"
             data-via="tmrowco"></a>
        </p>


        <div class="fb-comments"
          data-href="https://www.tmrow.com/climatechange.html"
          data-numposts="5"
          data-width="100%">
        </div>

      </div>

    </section>

    <footer class="alternate">
      <div id="footer-content">
        <p>
          &copy; 2017 Tomorrow | <a href="mailto:hello@tmrow.co"><i class="fa fa-envelope" aria-hidden="true"></i>&nbsp;email</a> |
          <a href="https://facebook.com/tmrowco/" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i>&nbsp;facebook</a> |
          <a href="https://twitter.com/tmrowco" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i>&nbsp;twitter</a> |
          <a href="https://medium.com/tmrow" target="_blank"><i class="fa fa-medium" aria-hidden="true"></i>&nbsp;medium</a>
        </p>
        <p>
          🇩🇰  Copenhagen<br />
          🇫🇷  Paris
        </p>
      </div>
    </footer>

    <script src="vendor/jquery.min.js"></script>
    <script src="vendor/jquery-scrollspy.min.js"></script>

    <!-- link anchors -->
    <script>
      // Find all h1 and set anchors + add to toc
      var titles = document.getElementsByTagName('h2');
      var toc = document.getElementById('toc');
      for (i = 0; i < titles.length; i++) {
        var el = titles[i];
        var id = el.innerHTML
          .replace(/(<sub>)|(<\/sub>)/g, '')
          .replace(/[ ':,]/g, '-')
          .toLowerCase();

        var a = document.createElement('a');
        el.setAttribute('id', id);
        a.setAttribute('class', 'anchor');
        a.setAttribute('href', '#' + id);
        a.innerHTML = '<small><i class="fa fa-link" aria-hidden="true"></i></small>';
        el.appendChild(a);
      }
    </script>
    <style>
      h2 a {
        visibility: hidden;
        margin-left: 0.3em;
      }
      h2:hover a, h2, a:hover {
        visibility: unset;
      }
    </style>

    <!-- Scroll -->
    <script>
      $(function domReady($) {
        var $this = $('#tpes_historical');
        var position = $this.position();
        var offset = $('header').outerHeight() + 400;
        $this.scrollspy({
          min: position.top - offset,
          max: position.top - offset + $this.outerHeight(),
          onEnter: function onEnter(element) {
            tpesHistoricalPlay()
          }
        })
      });
    </script>

  </body>
</html>
